<UserControl x:Class="QuanLyHocSinh.View.Controls.TraCuu.TraCuuGiaoVienUC"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:QuanLyHocSinh.View.Controls.TraCuu"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             Background="White"
             FontSize="13"
             mc:Ignorable="d" 
             MinHeight="600" MinWidth="800">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/QuanLyHocSinh;component/ResourceXaml/CommonStyles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="2"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <!-- Tiêu đề -->
        <TextBlock Text="DANH SÁCH GIÁO VIÊN"
                   FontSize="24"
                   FontWeight="Bold"
                   VerticalAlignment="Center"
                   HorizontalAlignment="Center"
                   Margin="10 10 0 10"
                   Grid.Row="0"/>
                   
        <!-- Thanh tìm kiếm, lọc -->
        <Border Grid.Row="1" Background="#f0f4c3" CornerRadius="15" Padding="15" Margin="10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="3*" MinWidth="250"/>
                    <ColumnDefinition Width="*" MinWidth="120"/>
                    <ColumnDefinition Width="*" MinWidth="120"/>
                    <ColumnDefinition Width="*" MinWidth="150"/>
                </Grid.ColumnDefinitions>
                
                <Border Grid.Column="0" Background="White" CornerRadius="10" Margin="5" BorderBrush="#ddd" BorderThickness="1">
                    <Grid>
                        <TextBox x:Name="txtSearch"
                                 Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"
                                 Margin="15,8,40,8"
                                 VerticalContentAlignment="Center"
                                 Background="Transparent"
                                 FontSize="13"
                                 Foreground="#333"
                                 materialDesign:HintAssist.Hint="Tìm kiếm giáo viên..."
                                 BorderThickness="0"/>
                        <materialDesign:PackIcon Kind="Search"
                                                 VerticalAlignment="Center"
                                                 HorizontalAlignment="Right"
                                                 Margin="0,0,15,0"
                                                 Foreground="#666"/>
                    </Grid>
                </Border>
                
                <StackPanel Grid.Column="1" Margin="10" VerticalAlignment="Center">
                    <TextBlock Text="Giới tính" FontSize="13"/>
                    <ComboBox materialDesign:HintAssist.Hint="Giới tính"
                              IsEditable="False"
                              FontSize="13"
                              ItemsSource="{Binding DanhSachGioiTinh}"
                              SelectedItem="{Binding SelectedGioiTinh, Mode=TwoWay}"/>
                </StackPanel>
                
                <StackPanel Grid.Column="2" Margin="10" VerticalAlignment="Center">
                    <TextBlock Text="Lớp" FontSize="13"/>
                    <ComboBox materialDesign:HintAssist.Hint="Lớp"
                              IsEditable="False"
                              FontSize="13"
                              ItemsSource="{Binding DanhSachLop}"
                              SelectedItem="{Binding SelectedLop, Mode=TwoWay}"/>
                </StackPanel>
                
                <StackPanel Grid.Column="3" Margin="10" VerticalAlignment="Center">
                    <TextBlock Text="Bộ môn" FontSize="13"/>
                    <ComboBox materialDesign:HintAssist.Hint="Bộ môn"
                              IsEditable="False"
                              FontSize="13"
                              ItemsSource="{Binding DanhSachBoMon}"
                              SelectedItem="{Binding SelectedBoMon, Mode=TwoWay}"/>
                </StackPanel>
            </Grid>
                 </Border>
         
                  <!-- Separator line -->
         <Rectangle Grid.Row="2" Fill="#e0e0e0" Height="2" Margin="10,0"/>
         
         <!-- Danh sách giáo viên -->
         <Border Grid.Row="3" Background="White" CornerRadius="15" Padding="10" Margin="10" BorderBrush="#e0e0e0" BorderThickness="1">
            <DataGrid ItemsSource="{Binding DanhSachGiaoVien}"
                      Style="{StaticResource CommonDataGridStyle}"
                      SelectedItem="{Binding SelectedGiaoVien, Mode=TwoWay}"
                      ScrollViewer.VerticalScrollBarVisibility="Auto"
                      ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                      ScrollViewer.CanContentScroll="True"
                      VirtualizingPanel.IsVirtualizing="True"
                      VirtualizingPanel.VirtualizationMode="Recycling"
                      EnableRowVirtualization="True"
                      EnableColumnVirtualization="True"
                      BorderBrush="Transparent"
                      Background="Transparent">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Mã GV" 
                                      Binding="{Binding MaGV}" 
                                      Width="80"
                                      MinWidth="80"
                                      ElementStyle="{StaticResource CenterAlignStyle}"/>
                    <DataGridTextColumn Header="Họ và Tên" 
                                      Binding="{Binding HoTen}" 
                                      Width="*"
                                      MinWidth="150"/>
                    <DataGridTextColumn Header="Ngày sinh" 
                                      Binding="{Binding NgaySinh, StringFormat=dd/MM/yyyy}" 
                                      Width="100"
                                      MinWidth="100"
                                      ElementStyle="{StaticResource CenterAlignStyle}"/>
                    <DataGridTextColumn Header="Giới tính" 
                                      Binding="{Binding GioiTinh}" 
                                      Width="80"
                                      MinWidth="80"
                                      ElementStyle="{StaticResource CenterAlignStyle}"/>
                    <DataGridTextColumn Header="Email" 
                                      Binding="{Binding Email}" 
                                      Width="*"
                                      MinWidth="180"/>
                    <DataGridTextColumn Header="Địa chỉ" 
                                      Binding="{Binding DiaChi}" 
                                      Width="*"
                                      MinWidth="120"/>
                    <DataGridTextColumn Header="Lớp dạy" 
                                      Binding="{Binding LopDayID}" 
                                      Width="80"
                                      MinWidth="80"
                                      ElementStyle="{StaticResource CenterAlignStyle}"/>
                    <DataGridTextColumn Header="Bộ môn" 
                                      Binding="{Binding BoMon}" 
                                      Width="*"
                                      MinWidth="100"
                                      ElementStyle="{StaticResource CenterAlignStyle}"/>
                    <DataGridTemplateColumn Header="Chức năng" Width="80" MinWidth="80">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Button Style="{StaticResource MaterialDesignFlatButton}"
                                        Command="{Binding DataContext.EditCommand, RelativeSource={RelativeSource AncestorType=DataGrid}}"
                                        ToolTip="Sửa thông tin giáo viên">
                                    <materialDesign:PackIcon Kind="Pencil" Foreground="#0078D7"/>
                                </Button>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                </DataGrid.Columns>
            </DataGrid>
        </Border>
    </Grid>
</UserControl>